module.exports=function(e){var n={};function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(n){return e[n]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=15)}([function(e,n){e.exports=require("rxjs/operators")},function(e,n){e.exports=require("invariant")},function(e,n){e.exports=require("reselect")},function(e,n){e.exports=require("redux-observable")},function(e,n){e.exports=require("rxjs")},function(e,n){e.exports=require("axios")},function(e,n){e.exports=require("luxon")},function(e,n){e.exports=require("lodash/fromPairs")},function(e,n){e.exports=require("uuid/v4")},function(e,n){e.exports=require("redux")},function(e,n){e.exports=require("lodash/flatten")},function(e,n){e.exports=require("lodash/identity")},function(e,n){e.exports=require("query-string")},function(e,n){e.exports=require("lodash/has")},function(e,n){e.exports=require("lodash/snakeCase")},function(e,n,t){e.exports=t(16)},function(e,n,t){"use strict";t.r(n);var r=t(9),i=t(3),o=t(1),u=t.n(o),a=t(10),E=t.n(a),c=t(7),_=t.n(c),l=t(6),f=t(12),T=t.n(f),O=t(8),s=t.n(O);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var A="A".charCodeAt(0),S="0".charCodeAt(0),N=/^[0-9A-Z]{18}[0-9]{2}$/;function I(e){for(var n,t=0,r=0;r<e.length;r+=1)(t=(n=e.charCodeAt(r))+(n>=A?100*t-A+10:10*t-S))>1e6&&(t%=97);return t%97}function P(e){if(null!=e)switch(d(e)){case"string":return e.toUpperCase();default:throw new Error("Expecting value of type 'string', found: '".concat(d(e),"'"))}throw new Error("Expecting value of type 'string', found: '".concat(e,"'"))}var R,p=function(e){return I(e)},b=function(e){var n=P(e);if(!n.match(N))throw new Error("Exception value of format '".concat(N,"', found: '").concat(n,"'"));return 1===p(n)},y=function(e){return e.match(/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/)};function L(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var m,v=(L(R={},"AGENTS_ROW_FULL_NAME",{label:"Full name",isValid:function(e){return e.length>1}}),L(R,"AGENTS_ROW_SSN",{label:"Personal ID",isValid:function(e){return e.length>1}}),L(R,"AGENTS_ROW_EMAIL",{label:"Email",isValid:y}),R);function h(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var C,U=(h(m={},"BENEFICIAL_OWNERS_ROW_FULL_NAME",{label:"Full name",isValid:function(e){return e.length>1}}),h(m,"BENEFICIAL_OWNERS_ROW_BIRTH_DATE",{label:"National ID number or birth date",isValid:function(e){return e.length>1}}),h(m,"BENEFICIAL_OWNERS_ROW_OWNERSHIP",{label:"Ownership in per cent (%)",isValid:function(e){return e.length>1}}),h(m,"BENEFICIAL_OWNERS_ROW_VOTING_RIGHT",{label:"Voting right in per cent (%)",isValid:function(e){return e.length>1}}),h(m,"BENEFICIAL_OWNERS_ROW_IS_PEP",{label:"Is this a PEP?",isValid:function(e){return!0===e||!1===e}}),m);function F(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var M,g="CLIENT_FULFILLMENTS_SWEDISH_AUTHORITY",D="CLIENT_FULFILLMENTS_ENGAGED_IN",G="CLIENT_FULFILLMENTS_EEA_COMPANY",w=(F(C={},g,{label:"The client is a swedish authority"}),F(C,D,{label:"The client is engaged in Swedish authority, banking or financial businesses, life assurance businesses, securities business, activities that require a notification or application to the Swedish FSA under Obligation to Notify Certain Financial Operations Act(1996:1006) or the Deposit Taking Operations Act(2004:299), insurance mediation, or mutual fund activities,"}),F(C,G,{label:"The Client is a company within the EEA whose transferable securities have been admitted to trading on a regulated market."}),F(C,"CLIENT_FULFILLMENTS_NONE_OF_THE_ABOVE",{label:"None of the above"}),C);function j(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var H,Y,V,k=(j(M={},"FIELD_PERSONAL_FIRST_NAME",{label:"First name",isValid:function(e){return e.length>1}}),j(M,"FIELD_PERSONAL_LAST_NAME",{label:"Last name",isValid:function(e){return e.length>1}}),j(M,"FIELD_PERSONAL_ADDRESS",{label:"Street Address",isValid:function(e){return e.length>1}}),j(M,"FIELD_PERSONAL_CITY",{label:"City",isValid:function(e){return e.length>1}}),j(M,"FIELD_PERSONAL_ZIP_CODE",{label:"Zip Code",isValid:function(e){return e.length>1&&e.match(/^[\d\s-]+$/)}}),j(M,"FIELD_PERSONAL_EMAIL",{label:"Email address",isValid:y}),j(M,"FIELD_PERSONAL_PHONE_NUMBER",{label:"Phone number",isValid:function(e){return e.length>1&&e.match(/^\+?[\d\s]+$/)}}),j(M,"FIELD_PERSONAL_BIRTH_DATE",{label:"Birth Date",isValid:function(e){return l.Interval.fromDateTimes(l.DateTime.fromISO(e),l.DateTime.local()).length("years")>10}}),j(M,"FIELD_PERSONAL_SSN",{label:"National ID Number",isValid:function(e){return e.length>1}}),j(M,"FIELD_PERSONAL_CITIZENSHIP",{label:"Citizenship",isValid:function(e){return e.length>1}}),j(M,"FIELD_PERSONAL_COUNTRY_OF_RESIDENCE",{label:"Country of Residence",isValid:function(e){return e.length>1}}),j(M,"FIELD_COMPANY_NAME",{label:"Company name"}),j(M,"FIELD_COMPANY_LEI_CODE",{label:"Company LEI number",isValid:function(e){try{return b(e)}catch(e){return!1}}}),j(M,"FIELD_COMPANY_ID",{label:"Company ID/Organisationsnummer (optional)",isValid:function(e){if(0===e.length)return!0;var n=e.match(/^(\d{1})(\d{5})-?(\d{4})$/);if(!n)return!1;var t=n[1],r=n[3];if(void 0===t||void 0===r)return!1;var i=t+n[2]+r;if(i.substring(2,3)<2)return!1;for(var o="",u=0;u<i.length;u+=1)o+=((u+1)%2+1)*i.substring(u,u+1);for(var a=0,E=0;E<o.length;E+=1)a+=1*o.substring(E,E+1);return a%10==0}}),j(M,"FIELD_COMPANY_COUNTRY_OF_INCORPORATION",{label:"Company country of incorporation",isValid:function(e){return e.length>1}}),j(M,"FIELD_COMPANY_STREET_ADDRESS",{label:"Company street address"}),j(M,"FIELD_COMPANY_ZIP_CODE",{label:"Company zip code"}),j(M,"FIELD_COMPANY_CITY",{label:"Company city"}),j(M,"FIELD_COMPANY_COUNTRY",{label:"Company country",isValid:function(e){return e.length>1}}),j(M,"FIELD_COMPANY_CONTACT_FIRST_NAME",{label:"Company contact person first name",isValid:function(e){return e.length>1}}),j(M,"FIELD_COMPANY_CONTACT_LAST_NAME",{label:"Company contact person last name",isValid:function(e){return e.length>1}}),j(M,"FIELD_COMPANY_CONTACT_EMAIL",{label:"Company contact person email",isValid:y}),j(M,"FIELD_COMPANY_CONTACT_PHONE_NUMBER",{label:"Company contact person phone number",isValid:function(e){return e.length>1}}),M);function x(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var B,K=(x(H={},"ORIGIN_SAVINGS","Savings"),x(H,"ORIGIN_SALARY","Salary"),x(H,"ORIGIN_HERITAGE","Heritage"),x(H,"ORIGIN_CAPITAL_GAIN_FROM_COMPANY_DIVESTMENT","Capital gain from company divestment"),x(H,"ORIGIN_CAPITAL_GAIN_FROM_REAL_ESTATE","Capital gain from real estate"),x(H,"ORIGIN_INSURANCE_MONIES","Insurance monies"),x(H,"ORIGIN_OTHER","Other"),H),X=(x(Y={},"PURPOSE_SAVINGS_OTHER_THAN_RETIREMENT","Savings, other than retirement"),x(Y,"PURPOSE_SAVINGS_RETIREMENT","Savings, retirement"),x(Y,"PURPOSE_SPECULATION","Speculation"),x(Y,"PURPOSE_INVESTMENTS_TO_MAXIMIZE_PORTFOLIO_DIVERSITY","Investments to maximize portfolio diversity"),x(Y,"PURPOSE_OTHER","Other"),Y),W=(x(V={},"FREE_TEXT_PURPOSES_PURPOSE_OF_USING_REDEYES_SERVICES",{labels:X,keys:Object.keys(X),freeTextFields:["PURPOSE_OTHER"]}),x(V,"FREE_TEXT_PURPOSES_ORIGIN_OF_THE_FUNDS",{labels:K,keys:Object.keys(K),freeTextFields:["ORIGIN_OTHER"]}),V);function Z(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}u()(Object.values(W).every(function(e){var n=e.keys;return e.freeTextFields.every(function(e){return n.includes(e)})}),"the free text fields must be among the keys of the objects");var $,q,z,Q=(Z(B={},"PEP_HAS_BEEN_A_PEP_DURING_THE_LAST_2_YEARS",{label:"I am, or have during the past 2 years been, a PEP"}),Z(B,"PEP_A_BENEFICIAL_OWNER_TO_ME_THE_CLIENT_IS_OR_HAS_DURING_THE_LAST_2_YEARS_BEEN_A_PEP",{label:"A beneficial owner to me/the client is, or has during the last 2 years been, a PEP"}),Z(B,"PEP_HAS_DURING_THE_PAST_2_YEARS_BEEN_A_FAMILY_MEMBER_OT_A_PEP",{label:"I am, or have during the past 2 years been, a Family Member to a PEP"}),Z(B,"PEP_HAS_DURING_THE_PAST_2_YEARS_BEEN_A_CLOSE_ASSOCIATE_TO_A_PEP",{label:"I am, or have during the past 2 years been, a Close Associate to a PEP"}),Z(B,"PEP_NONE_OF_THE_ABOVE",{label:"None of the above"}),B);function J(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ee=(J($={},"AMOUNT_LESS_THAN_1_MSEK","<1 MSEK"),J($,"AMOUNT_1_5_MSEK","1-5 MSEK"),J($,"AMOUNT_5_10_MSEK","5-10 MSEK"),J($,"AMOUNT_MORE_THAN_10_MSEK",">10 MSEK"),$),ne=(J(q={},"HORIZON_LESS_THAN_A_MONTH","Less than a month"),J(q,"HORIZON_1_6_MONTHS","1 – 6 months"),J(q,"HORIZON_6_12_MONTHS","6 – 12 months"),J(q,"HORIZON_1_2_YEARS","1 – 2 years"),J(q,"HORIZON_MORE_THAN_2_YEARS","More than 2 years"),q),te=(J(z={},"FREQUENCY_SEVERAL_TIMES_EVERY_MONTH","Several times every month"),J(z,"FREQUENCY_1_2_TIMES_MONTH","1 – 2 times/month"),J(z,"FREQUENCY_LESS_THAN_MONTHLY","Less than monthly"),J(z,"FREQUENCY_SEMI_ANNUALLY","Semi-annually"),J(z,"FREQUENCY_ANNUALLY","Annually"),z),re=["PURPOSE_AND_NATURE_ENTIRE_VALUE_OF_YOUR_INVESTMENT_PORTFOLIO","PURPOSE_AND_NATURE_EXPECT_TO_INVEST_IN_FINANCIAL_INSTRUMENTS","PURPOSE_AND_NATURE_INVESTMENT_HORIZON","PURPOSE_AND_NATURE_INVESTMENT_FREQUENCY"],ie="TAX_LIABILITY_UNSET",oe="TAX_LIABILITY_TRUE",ue="TAX_LIABILITY_FALSE",ae="TYPE_PERSON",Ee="TYPE_COMPANY",ce=function(){return{type:"INITIALIZE_STATE"}},_e=function(){return{type:"FETCH_SESSION"}},le=function(e){return{type:"SET_KYC_STATE",state:e}},fe=t(13),Te=t.n(fe),Oe=!1;try{Oe=!1}catch(e){}var se=function(e,n){return Oe&&n.undefined&&console.warn("Reducer contains an 'undefined' action type. Have you misspelled a constant?"),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0;return Te()(n,r.type)?n[r.type](t,r):t}},de=t(14),Ae=t.n(de),Se=function(e,n){return Ae()("".concat(e,"_").concat(n)).toUpperCase()},Ne=function(e){var n=Se("add",e),t=Se("remove",e),r=Se("update",e);return{addType:n,addAction:function(){return{type:n,rowId:s()()}},removeType:t,removeAction:function(e){return{type:t,rowId:e}},updateType:r,updateAction:function(e,n,t){return{type:r,rowId:e,fieldId:n,value:t}}}};function Ie(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(t.push(u.value),!n||t.length!==n);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Pe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){Re(e,n,t[n])})}return e}function Re(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var pe,be,ye=function(e){var n,t=e.remove,r=e.update,i=e.add,o=e.canAddMore,u=void 0===o?function(){return!0}:o,a=e.key,E=e.getDefaultFieldValues;return Re(n={},t,function(e,n){var t=n.rowId;return Pe({},e,Re({},a,Object.entries(e[a]).filter(function(e){return Ie(e,1)[0]!==t}).reduce(function(e,n){var t=Ie(n,2);return Pe({},e,Re({},t[0],t[1]))},{})))}),Re(n,r,function(e,n){var t=n.rowId,r=n.fieldId,i=n.value;return Pe({},e,Re({},a,Pe({},e[a],Re({},t,Pe({},e[a][t],Re({},r,void 0===i?!e[a][t][r]:i))))))}),Re(n,i,function(e,n){var t=n.rowId;return u(e)?Pe({},e,Re({},a,Pe({},e[a],Re({},t,E())))):e}),n},Le=(t(11),t(2));function me(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ve=(me(pe={},"PAGE_START",{uri:"/start",id:"PAGE_START",label:"Introduction"}),me(pe,"PAGE_TERMS",{uri:"/terms",id:"PAGE_TERMS",label:"Terms"}),me(pe,"PAGE_COMPANY_DETAILS",{uri:"/company/details",id:"PAGE_COMPANY_DETAILS",label:"Details"}),me(pe,"PAGE_COMPANY_CONTACT",{uri:"/company/contact",id:"PAGE_COMPANY_CONTACT",label:"Contact"}),me(pe,"PAGE_COMPANY_AGENTS",{uri:"/company/agents",id:"PAGE_COMPANY_AGENTS",label:"Agents"}),me(pe,"PAGE_TAX",{uri:"/taxLiability",id:"PAGE_TAX",label:"Tax liability"}),me(pe,"PAGE_PURPOSE_AND_NATURE",{uri:"/purposeAndNature",id:"PAGE_PURPOSE_AND_NATURE",label:"Purpose"}),me(pe,"PAGE_PEP",{uri:"/person/pep",id:"PAGE_PEP",label:"PEP"}),me(pe,"PAGE_PERSON_PERSONAL",{uri:"/person/personal",id:"PAGE_PERSON_PERSONAL",label:"Personal info"}),me(pe,"PAGE_PERSON_NATIONALITY",{uri:"/person/nationality",id:"PAGE_PERSON_NATIONALITY",label:"Citizenship"}),me(pe,"PAGE_SIGN",{uri:"/sign",id:"PAGE_SIGN",label:"Sign"}),me(pe,"PAGE_UBO",{uri:"/company/ubo",id:"PAGE_UBO",label:"UBO"}),pe),he=function(e){return{pageIds:e,pagesDict:_()(e.map(function(e){return[e,ve[e]]}))}},Ce=["PAGE_START","PAGE_TERMS","PAGE_PERSON_PERSONAL","PAGE_PERSON_NATIONALITY","PAGE_TAX","PAGE_PEP","PAGE_PURPOSE_AND_NATURE","PAGE_SIGN"],Ue=he(["PAGE_START","PAGE_TERMS","PAGE_COMPANY_DETAILS","PAGE_COMPANY_CONTACT","PAGE_COMPANY_AGENTS","PAGE_TAX","PAGE_UBO","PAGE_PURPOSE_AND_NATURE","PAGE_SIGN"]),Fe=he(Ce);me(be={},Ee,Ue),me(be,ae,Fe);function Me(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){ge(e,n,t[n])})}return e}function ge(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function De(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(t.push(u.value),!n||t.length!==n);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ge=function(e){var n=e.stateKey,t=e.fieldsDefinition,r=e.rowsAreValid,i=void 0===r?function(){return!0}:r,o=function(){return function(e){return Object.entries(e[n]).reduce(function(e,n){var r=De(n,2),i=r[0],o=r[1];return Me({},e,ge({},i,Object.entries(o).reduce(function(e,n){var r=De(n,2),i=r[0],o=r[1],u=t[i],a=u.isValid,E=u.label;return Me({},e,ge({},i,{valid:!a||a(o),label:E,value:o}))},{})))},{})}},u=function(){var e=o();return Object(Le.createSelector)([e],function(e){return Object.keys(e).length})};return{makeSelectRowsLength:u,makeSelectRows:o,makeSelectCanAddMoreRows:function(){var e=u();return Object(Le.createSelector)([e],function(e){return e<3})},makeSelectHasNoRows:function(){var e=u();return Object(Le.createSelector)([e],function(e){return 0===e})},makeSelectRowsAreValid:function(){var e=o(),n=u();return Object(Le.createSelector)([e,n],i)}}};function we(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(t.push(u.value),!n||t.length!==n);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var je,He,Ye=Ge({stateKey:"beneficialOwners",fieldsDefinition:U,rowsAreValid:function(e,n){return 0===n||Object.values(e).every(function(e){return Object.values(e).every(function(e){return e.valid})})}}),Ve=(Ye.makeSelectRows,Ye.makeSelectRowsLength,Ye.makeSelectCanAddMoreRows),ke=(Ye.makeSelectHasNoRows,Ye.makeSelectRowsAreValid,Ge({stateKey:"agents",fieldsDefinition:v,rowsAreValid:function(e,n){return n>0&&Object.values(e).every(function(e){return Object.entries(e).every(function(e){var n=we(e,2),t=n[0],r=n[1].value,i=v[t].isValid;return!i||i(r)})})}})),xe=(ke.makeSelectRows,ke.makeSelectRowsLength,ke.makeSelectCanAddMoreRows,ke.makeSelectHasNoRows,ke.makeSelectRowsAreValid,function(e){return e.session}),Be=function(){return Object(Le.createSelector)([xe],function(e){return e.bearer})},Ke=function(e){return e.host};function Xe(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(t.push(u.value),!n||t.length!==n);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function We(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){Ze(e,n,t[n])})}return e}function Ze(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var $e=function(){return l.DateTime.local().toISODate()},qe=function(e,n){return n.reduce(function(n,t){return We({},n,Ze({},t,e))},{})},ze=E()(Object.values(W).map(function(e){return e.freeTextFields})),Qe=function(e,n){return{host:n,kycType:Ee,session:{token:e,bearer:!1,loadingSession:!0,loadingState:!0,error:!1},formData:We({},qe("",Object.keys(k)),Ze({},"FIELD_PERSONAL_BIRTH_DATE",$e())),agreesToEverything:!1,taxLiability:ie,pep:qe(!1,Object.keys(Q)),clientFulfillments:qe(!1,Object.keys(w)),beneficialOwners:{},agents:{},purposeAndNature:qe(null,re),freeTextPurposes:_()(Object.entries(W).map(function(e){var n=Xe(e,2),t=n[0],r=n[1].keys;return[t,_()(r.map(function(e){return[e,!!ze.includes(e)&&""]}))]}))}},Je=function(e,n,t){return u()(Object.keys(W).includes(e),"purposeId must be in FREE_TEXT_PURPOSES"),u()(E()(Object.values(W).map(function(e){return e.keys})).includes(n),"fieldId must be in FREE_TEXT_PURPOSES"),{type:"UPDATE_FREE_TEXT_PURPOSES",purposeId:e,fieldId:n,value:t}},en=function(e){if(![ue,oe,ie].includes(e))throw new Error("Invalid tax liability value");return{type:"UPDATE_TAX_LIABILITY",value:e}},nn=function(e){if(!Object.keys(Q).includes(e))throw new Error("Invalid pep field");return{type:"TOGGLE_PEP_CHECK",field:e}},tn=function(e){if(!Object.keys(w).includes(e))throw new Error("Invalid client fulfillments field");return{type:"TOGGLE_CLIENT_FULFILLMENTS_CHECK",field:e}},rn=function(e){return{type:"UPDATE_FORM_FIELD",id:e.id,value:e.value}},on=function(){return{type:"TOGGLE_AGREES_TO_EVERYTHING"}},un=Ne("beneficial_owner"),an=un.addType,En=un.removeType,cn=un.updateType,_n=(un.addAction,un.removeAction,un.updateAction,Ne("authorized_by_company")),ln=_n.addType,fn=_n.removeType,Tn=_n.updateType,On=(_n.addAction,_n.removeAction,_n.updateAction,function(e,n){if(void 0===e||void 0===n)throw new Error("key and value must be provided");if(!re.includes(e))throw new Error("Invalid key for the purpose and nature");return{type:"UPDATE_PURPOSE_AND_NATURE",key:e,value:n}}),sn=function(e){if(![Ee,ae].includes(e))throw new Error("Invalid KYC type");return{type:"SET_KYC_TYPE",kycType:e}},dn=function(e){return{type:"SESSION_ERROR",error:e}},An=function(e){return{type:"STATE_ERROR",error:e}},Sn=function(e){return{type:"SET_BEARER",bearer:e}},Nn=T.a.parse("undefined"==typeof window?"":window.location.search).token,In=void 0===Nn?s()():Nn,Pn=se(Qe(In,"https://kyc-api.redeye.se"),We((Ze(je={},"SET_BEARER",function(e,n){var t=n.bearer,r=n.token;return We({},e,{session:We({},e.session,{loadingSession:!1,bearer:t,token:r})})}),Ze(je,"STATE_ERROR",function(e){return We({},e,{session:We({},e.session,{error:!0,loadingSession:!1,loadingState:!1})})}),Ze(je,"SESSION_ERROR",function(e){return We({},e,{session:We({},e.session,{error:!0,loadingSession:!1,loadingState:!1})})}),Ze(je,"SET_KYC_STATE",function(e,n){return We({},e,n.state,{session:We({},e.session,{loadingState:!1})})}),Ze(je,"UPDATE_FREE_TEXT_PURPOSES",function(e,n){var t=n.purposeId,r=n.fieldId,i=n.value;return We({},e,{freeTextPurposes:We({},e.freeTextPurposes,Ze({},t,We({},e.freeTextPurposes[t],Ze({},r,ze.includes(r)?i:!e.freeTextPurposes[t][r]))))})}),Ze(je,"SET_KYC_TYPE",function(e,n){return We({},e,{kycType:n.kycType})}),Ze(je,"UPDATE_PURPOSE_AND_NATURE",function(e,n){var t=n.key,r=n.value;return We({},e,{purposeAndNature:We({},e.purposeAndNature,Ze({},t,r))})}),je),ye({remove:En,update:cn,add:an,canAddMore:function(e){return Ve()(e)},key:"beneficialOwners",getDefaultFieldValues:function(){return We({},qe("",Object.keys(U)),Ze({},"BENEFICIAL_OWNERS_ROW_IS_PEP",!1))}}),ye({remove:fn,update:Tn,add:ln,key:"agents",getDefaultFieldValues:function(){return qe("",Object.keys(v))}}),(Ze(He={},"TOGGLE_CLIENT_FULFILLMENTS_CHECK",function(e,n){var t,r=n.field;return We({},e,{clientFulfillments:"CLIENT_FULFILLMENTS_NONE_OF_THE_ABOVE"!==r||e.clientFulfillments[r]?We({},e.clientFulfillments,(t={},Ze(t,"CLIENT_FULFILLMENTS_NONE_OF_THE_ABOVE",!1),Ze(t,r,!e.clientFulfillments[r]),t)):We({},Qe.clientFulfillments,Ze({},"CLIENT_FULFILLMENTS_NONE_OF_THE_ABOVE",!0))})}),Ze(He,"TOGGLE_PEP_CHECK",function(e,n){var t,r=n.field;return We({},e,{pep:"PEP_NONE_OF_THE_ABOVE"!==r||e.pep[r]?We({},e.pep,(t={},Ze(t,"PEP_NONE_OF_THE_ABOVE",!1),Ze(t,r,!e.pep[r]),t)):We({},Qe.pep,Ze({},"PEP_NONE_OF_THE_ABOVE",!0))})}),Ze(He,"UPDATE_TAX_LIABILITY",function(e,n){return We({},e,{taxLiability:n.value})}),Ze(He,"UPDATE_FORM_FIELD",function(e,n){var t=n.id,r=n.value;return We({},e,{formData:We({},e.formData,Ze({},t,r))})}),Ze(He,"TOGGLE_AGREES_TO_EVERYTHING",function(e){return We({},e,{agreesToEverything:!e.agreesToEverything})}),He))),Rn=t(0),pn=function(e){return e.pipe(Object(i.ofType)("SET_KYC_STATE"),Object(Rn.take)(1),Object(Rn.delay)(1e3),Object(Rn.ignoreElements)())},bn=t(5),yn=t.n(bn),Ln=t(4);function mn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function vn(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(t.push(u.value),!n||t.length!==n);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var hn=Be(),Cn=function(e,n){return e.pipe(Object(i.ofType)("SET_BEARER"),Object(Rn.take)(1),Object(Rn.withLatestFrom)(n),Object(Rn.map)(function(e){var n=vn(e,2)[1];return{bearer:hn(n),endpoint:"".concat(Ke(n),"/api/v1/kyc")}}),Object(Rn.mergeMap)(function(e){var n=e.endpoint,t=e.bearer;return Object(Ln.from)(yn()({method:"get",data:{data:{}},url:n,headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"}}).then(function(e){var n=e.data;return{data:n.data,type:n.type}}))}),Object(Rn.map)(function(e){var n=e.data,t=e.type;return n&&t||console.log("No data and no type is preset!"),le(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){mn(e,n,t[n])})}return e}({},n,{kycType:"person"===t?ae:Ee}))}),Object(Rn.catchError)(function(e){return Object(Ln.of)(An(e))}))};function Un(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(t.push(u.value),!n||t.length!==n);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Fn=Object(Le.createSelector)([xe],function(e){return e.token}),Mn=function(e,n){return e.pipe(Object(i.ofType)("FETCH_SESSION"),Object(Rn.take)(1),Object(Rn.withLatestFrom)(n),Object(Rn.map)(function(e){var n=Un(e,2)[1];return{token:Fn(n),endpoint:"".concat(Ke(n),"/api/v1/sessions")}}),Object(Rn.mergeMap)(function(e){var n=e.token,t=e.endpoint;return Object(Ln.from)(yn()({method:"post",url:t,data:{token:n},headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(function(e){return e.data.bearer}))}),Object(Rn.map)(function(e){return e?Sn(e):dn("No bearer received")}),Object(Rn.catchError)(function(e){return console.log(e),Object(Ln.of)(dn(e))}))};function gn(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(t.push(u.value),!n||t.length!==n);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Dn=Be(),Gn=function(e,n){return e.pipe(Object(i.ofType)("SET_KYC_STATE"),Object(Rn.take)(1),Object(Rn.filter)(function(){return"undefined"!=typeof window}),Object(Rn.filter)(function(){return!window.location.pathname.match(/pdf/)}),Object(Rn.switchMap)(function(){return Object(Ln.interval)(5e3).pipe(Object(Rn.withLatestFrom)(n),Object(Rn.map)(function(e){var n=gn(e,2)[1];return{state:n,bearer:Dn(n),endpoint:"".concat(Ke(n),"/api/v1/kyc")}}),Object(Rn.mergeMap)(function(e){var n=e.state,t=e.bearer,r=e.endpoint;return Object(Ln.from)(yn()({url:r,method:"post",data:{data:n},headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"}})).pipe(Object(Rn.catchError)(function(){return Object(Ln.empty)()}))}))}),Object(Rn.ignoreElements)())},wn=Object(i.combineEpics)(function(e){return e.pipe(Object(i.ofType)("INITIALIZE_STATE"),Object(Rn.take)(1),Object(Rn.mapTo)({type:"FETCH_SESSION"}))},pn,Cn,Mn,Gn);var jn=Object(i.createEpicMiddleware)();function Hn(e){var n=r.compose,t=Object(r.createStore)(Pn,e,n(Object(r.applyMiddleware)(jn)));return jn.run(wn),t}var Yn="@media (min-width: ".concat(320,"px)"),Vn="@media (min-width: ".concat(480,"px)"),kn="@media (min-width: ".concat(768,"px)"),xn="@media (min-width: ".concat(1024,"px)"),Bn="@media (min-width: ".concat(1360,"px)"),Kn="@media (min-width: ".concat(1440,"px)"),Xn="@media (min-width: ".concat(1920,"px)");t.d(n,"configureStore",function(){return Hn}),t.d(n,"KYC_TYPE_PERSON",function(){return ae}),t.d(n,"KYC_TYPE_COMPANY",function(){return Ee}),t.d(n,"TAX_LIABILITY_UNSET",function(){return ie}),t.d(n,"TAX_LIABILITY_TRUE",function(){return oe}),t.d(n,"TAX_LIABILITY_FALSE",function(){return ue}),t.d(n,"ORIGIN_SAVINGS",function(){return"ORIGIN_SAVINGS"}),t.d(n,"ORIGIN_SALARY",function(){return"ORIGIN_SALARY"}),t.d(n,"ORIGIN_HERITAGE",function(){return"ORIGIN_HERITAGE"}),t.d(n,"ORIGIN_CAPITAL_GAIN_FROM_COMPANY_DIVESTMENT",function(){return"ORIGIN_CAPITAL_GAIN_FROM_COMPANY_DIVESTMENT"}),t.d(n,"ORIGIN_CAPITAL_GAIN_FROM_REAL_ESTATE",function(){return"ORIGIN_CAPITAL_GAIN_FROM_REAL_ESTATE"}),t.d(n,"ORIGIN_INSURANCE_MONIES",function(){return"ORIGIN_INSURANCE_MONIES"}),t.d(n,"ORIGIN_OTHER",function(){return"ORIGIN_OTHER"}),t.d(n,"PURPOSE_SAVINGS_OTHER_THAN_RETIREMENT",function(){return"PURPOSE_SAVINGS_OTHER_THAN_RETIREMENT"}),t.d(n,"PURPOSE_SAVINGS_RETIREMENT",function(){return"PURPOSE_SAVINGS_RETIREMENT"}),t.d(n,"PURPOSE_SPECULATION",function(){return"PURPOSE_SPECULATION"}),t.d(n,"PURPOSE_INVESTMENTS_TO_MAXIMIZE_PORTFOLIO_DIVERSITY",function(){return"PURPOSE_INVESTMENTS_TO_MAXIMIZE_PORTFOLIO_DIVERSITY"}),t.d(n,"PURPOSE_OTHER",function(){return"PURPOSE_OTHER"}),t.d(n,"FREE_TEXT_PURPOSES_PURPOSE_OF_USING_REDEYES_SERVICES",function(){return"FREE_TEXT_PURPOSES_PURPOSE_OF_USING_REDEYES_SERVICES"}),t.d(n,"FREE_TEXT_PURPOSES_ORIGIN_OF_THE_FUNDS",function(){return"FREE_TEXT_PURPOSES_ORIGIN_OF_THE_FUNDS"}),t.d(n,"FREE_TEXT_PURPOSES",function(){return W}),t.d(n,"AMOUNT_LABELS",function(){return ee}),t.d(n,"HORIZON_LABELS",function(){return ne}),t.d(n,"FREQUENCY_LABELS",function(){return te}),t.d(n,"PURPOSE_AND_NATURE_ENTIRE_VALUE_OF_YOUR_INVESTMENT_PORTFOLIO",function(){return"PURPOSE_AND_NATURE_ENTIRE_VALUE_OF_YOUR_INVESTMENT_PORTFOLIO"}),t.d(n,"PURPOSE_AND_NATURE_EXPECT_TO_INVEST_IN_FINANCIAL_INSTRUMENTS",function(){return"PURPOSE_AND_NATURE_EXPECT_TO_INVEST_IN_FINANCIAL_INSTRUMENTS"}),t.d(n,"PURPOSE_AND_NATURE_INVESTMENT_HORIZON",function(){return"PURPOSE_AND_NATURE_INVESTMENT_HORIZON"}),t.d(n,"PURPOSE_AND_NATURE_INVESTMENT_FREQUENCY",function(){return"PURPOSE_AND_NATURE_INVESTMENT_FREQUENCY"}),t.d(n,"PURPOSE_AND_NATURE_KEYS",function(){return re}),t.d(n,"INITIALIZE_STATE",function(){return"INITIALIZE_STATE"}),t.d(n,"initializeState",function(){return ce}),t.d(n,"FETCH_SESSION",function(){return"FETCH_SESSION"}),t.d(n,"fetchSession",function(){return _e}),t.d(n,"SET_KYC_STATE",function(){return"SET_KYC_STATE"}),t.d(n,"setKycState",function(){return le}),t.d(n,"rootEpic",function(){return wn}),t.d(n,"reducer",function(){return Pn}),t.d(n,"makeDefaultBirthDate",function(){return $e}),t.d(n,"initialState",function(){return Qe}),t.d(n,"UPDATE_FREE_TEXT_PURPOSES",function(){return"UPDATE_FREE_TEXT_PURPOSES"}),t.d(n,"updateFreeTextPurposes",function(){return Je}),t.d(n,"UPDATE_TAX_LIABILITY",function(){return"UPDATE_TAX_LIABILITY"}),t.d(n,"updateTaxLiability",function(){return en}),t.d(n,"TOGGLE_PEP_CHECK",function(){return"TOGGLE_PEP_CHECK"}),t.d(n,"togglePepCheck",function(){return nn}),t.d(n,"TOGGLE_CLIENT_FULFILLMENTS_CHECK",function(){return"TOGGLE_CLIENT_FULFILLMENTS_CHECK"}),t.d(n,"toggleClientFulfillmentsCheck",function(){return tn}),t.d(n,"UPDATE_FORM_FIELD",function(){return"UPDATE_FORM_FIELD"}),t.d(n,"updateFormField",function(){return rn}),t.d(n,"TOGGLE_AGREES_TO_EVERYTHING",function(){return"TOGGLE_AGREES_TO_EVERYTHING"}),t.d(n,"toggleAgreesToEverything",function(){return on}),t.d(n,"UPDATE_PURPOSE_AND_NATURE",function(){return"UPDATE_PURPOSE_AND_NATURE"}),t.d(n,"updatePurposeAndNature",function(){return On}),t.d(n,"SET_KYC_TYPE",function(){return"SET_KYC_TYPE"}),t.d(n,"setKycType",function(){return sn}),t.d(n,"SESSION_ERROR",function(){return"SESSION_ERROR"}),t.d(n,"sessionError",function(){return dn}),t.d(n,"STATE_ERROR",function(){return"STATE_ERROR"}),t.d(n,"stateError",function(){return An}),t.d(n,"SET_BEARER",function(){return"SET_BEARER"}),t.d(n,"setBearer",function(){return Sn}),t.d(n,"$cooldark0",function(){return"#14141f"}),t.d(n,"$cooldark1",function(){return"#1f1f28"}),t.d(n,"$dark0",function(){return"#07070d"}),t.d(n,"$dark1",function(){return"#101019"}),t.d(n,"$borderColor",function(){return"rgba(255, 255, 255, 0.12)"}),t.d(n,"$borderThickColor",function(){return"rgba(255, 255, 255, 0.2)"}),t.d(n,"$cherry",function(){return"#fb3737"}),t.d(n,"$cherryLight",function(){return"#fd5f5a"}),t.d(n,"$cherryDim",function(){return"#fe8585"}),t.d(n,"$cherryLine",function(){return"#fb4b4b"}),t.d(n,"$white",function(){return"white"}),t.d(n,"$black",function(){return"black"}),t.d(n,"$whiteDim",function(){return"rgba(255, 255, 255, 0.75)"}),t.d(n,"$whiteUltraDim",function(){return"rgba(255, 255, 255, 0.5)"}),t.d(n,"$green",function(){return"#8ae5ae"}),t.d(n,"GLOBAL_MIN_WIDTH",function(){return 304}),t.d(n,"GLOBAL_MAX_WIDTH",function(){return 1360}),t.d(n,"MOBILE_MIN_WIDTH",function(){return 320}),t.d(n,"PHABLET_MIN_WIDTH",function(){return 480}),t.d(n,"TABLET_MIN_WIDTH",function(){return 768}),t.d(n,"DESKTOP_MIN_WIDTH",function(){return 1024}),t.d(n,"LAPTOP_MIN_WIDTH",function(){return 1360}),t.d(n,"HD_MIN_WIDTH",function(){return 1440}),t.d(n,"FULL_HD_MIN_WIDTH",function(){return 1920}),t.d(n,"MOBILE_MQ",function(){return Yn}),t.d(n,"PHABLET_MQ",function(){return Vn}),t.d(n,"TABLET_MQ",function(){return kn}),t.d(n,"DESKTOP_MQ",function(){return xn}),t.d(n,"LAPTOP_MQ",function(){return Bn}),t.d(n,"HD_MQ",function(){return Kn}),t.d(n,"FULL_HD_MQ",function(){return Xn})}]);